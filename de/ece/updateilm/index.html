<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/de/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/de/favicon.ico" type="image/x-icon"><title>Anpassen von Lifecycle Policies | Documentation</title><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Anpassen von Lifecycle Policies" /><meta property="og:locale" content="de" /><meta name="description" content="Anpassen von Lifecycle Policies" /><meta property="og:description" content="Anpassen von Lifecycle Policies" /><link rel="canonical" href="/de/ece/updateilm/" /><meta property="og:url" content="/ece/updateilm/" /><meta property="og:site_name" content="Documentation" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-08-29T14:38:22+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Anpassen von Lifecycle Policies" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-08-29T14:38:22+00:00","datePublished":"2024-08-29T14:38:22+00:00","description":"Anpassen von Lifecycle Policies","headline":"Anpassen von Lifecycle Policies","mainEntityOfPage":{"@type":"WebPage","@id":"/ece/updateilm/"},"url":"/ece/updateilm/"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/de/" class="site-title lh-tight"><svg class="site-logo" width="44" height="51" viewBox="0 0 44 51" fill="none" focusable="false" xmlns="http://www.w3.org/2000/svg"><path d="M21.9985 0L32.9985 6.35022L38.1104 9.30107L31.1561 13.3166L29.5221 12.3727L21.9985 8.02952L14.4749 12.3727L6.95126 16.716V25.4024V34.0888L14.4749 38.432L21.9985 42.7753L29.5221 38.432L44 30.0733V38.1043L33 44.4561L22 50.8063L11 44.4561L0 38.1043V25.4024V12.7004L11 6.34871L21.9985 0ZM21.9985 34.6597L29.1657 30.5218L36.4764 26.3009L44 21.9577V13.9267L33 20.2784L22 26.6301V34.6597H21.9985ZM28.9543 30.6441L29.1672 30.5218L28.9543 30.6441Z" fill="#111" /><path d="M21.9985 34.6588L29.1658 30.5209L36.4764 26.3L44 21.9568V13.9258L33 20.2775L22 26.6292V34.6588H21.9985ZM28.9543 30.6432L29.1673 30.5209L28.9543 30.6432Z" fill="#111" /> </svg><div class="rp_title"> Documentation</div></a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"></ul><div class="nav-category">Elastic Cloud Enterprise</div><ul class="nav-list"><li class="nav-list-item"><a href="/de/ece/intro" class="nav-list-link">Einführung</a><li class="nav-list-item"><a href="/de/ece/shipdata/" class="nav-list-link">Laden von Daten in Elastic</a><li class="nav-list-item active"><a href="/de/ece/updateilm/" class="nav-list-link active">Anpassen von Lifecycle Policies</a></ul><div class="nav-category">GKS</div><ul class="nav-list"></ul><div class="nav-category">Oncite Open Edition</div><ul class="nav-list"><li class="nav-list-item"><a href="/de/edge/productoverview/" class="nav-list-link">Produkt Übersicht</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Operations Center category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/de/edge/operationscenter/" class="nav-list-link">Operations Center</a><ul class="nav-list"><li class="nav-list-item "><a href="/de/edge/operationscenter/vpnaas/" class="nav-list-link">VPN as a Service</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Openstack category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/de/edge/openstack/" class="nav-list-link">Openstack</a><ul class="nav-list"><li class="nav-list-item "><a href="/de/edge/openstack/create_vm/" class="nav-list-link">VM Erstellung</a></ul><li class="nav-list-item"><a href="/de/edge/faq/" class="nav-list-link">FAQ</a></ul><div class="nav-category">Optimist</div><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Guided Tour category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/de/optimist/guided_tour/" class="nav-list-link">Guided Tour</a><ul class="nav-list"><li class="nav-list-item "><a href="/de/optimist/guided_tour/step01/" class="nav-list-link">01: Das Dashboard (Horizon)</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step02/" class="nav-list-link">02: SSH-Key per Horizon anlegen</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step03/" class="nav-list-link">03: Einen Stack starten</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step04/" class="nav-list-link">04: Der Weg vom Horizon auf die Kommandozeile</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step05/" class="nav-list-link">05: Die wichtigsten Befehle des OpenStackClients</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step06/" class="nav-list-link">06: Einen eigenen SSH-Key per Konsole erstellen und nutzen</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step07/" class="nav-list-link">07: Die erste eigene Instanz</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step08/" class="nav-list-link">08: Löschen der ersten eigenen Instanz</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step09/" class="nav-list-link">09: Die erste Security-Group</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step10/" class="nav-list-link">10: Zugriff aus dem Internet vorbereiten; Ein Netzwerk anlegen</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step11/" class="nav-list-link">11: Zugriff aus dem Internet vorbereiten; Wir ergänzen IPv6</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step12/" class="nav-list-link">12: Eine nutzbare Instanz</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step13/" class="nav-list-link">13: Der strukturierte Weg zu einer Instanz (mit Stacks)</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step14/" class="nav-list-link">14: Unsere ersten Schritte mit Heat</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step15/" class="nav-list-link">15: Das erste eigene Heat Orchestration Template (HOT)</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step16/" class="nav-list-link">16: Wir lernen Heat besser kennen</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step17/" class="nav-list-link">17: Das Netzwerk im Heat</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step18/" class="nav-list-link">18: Unsere Instanz wird von außen per IPv4 erreichbar</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step19/" class="nav-list-link">19: Unsere Instanz lernt IPv6</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step20/" class="nav-list-link">20: Mehrere Instanzen gleichzeitig erstellen</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step21/" class="nav-list-link">21: Eine Instanz von einem SSD-Volume starten</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step22/" class="nav-list-link">22: Anlegen eines DNS-Record in Designate</a><li class="nav-list-item "><a href="/de/optimist/guided_tour/step23/" class="nav-list-link">23: Der Object Storage (S3 kompatibel)</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Netzwerke category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/de/optimist/networking/" class="nav-list-link">Netzwerke</a><ul class="nav-list"><li class="nav-list-item "><a href="/de/optimist/networking/port_forwarding/" class="nav-list-link">Port Forwarding auf Floating IPs</a><li class="nav-list-item "><a href="/de/optimist/networking/shared_networks/" class="nav-list-link">Geteilte Netzwerke</a><li class="nav-list-item "><a href="/de/optimist/networking/vpnaas/" class="nav-list-link">VPN as a Service</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Storage category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/de/optimist/storage/" class="nav-list-link">Storage</a><ul class="nav-list"><li class="nav-list-item "><button class="nav-list-expander btn-reset" aria-label="toggle items in S3 Kompatiblen Objekt Storage category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/de/optimist/storage/s3_documentation/" class="nav-list-link">S3 Kompatiblen Objekt Storage</a><ul class="nav-list"><li class="nav-list-item "> <a href="/de/optimist/storage/s3_documentation/createanduses3credentials/" class="nav-list-link">S3 Kennung erstellen und einlesen</a><li class="nav-list-item "> <a href="/de/optimist/storage/s3_documentation/createanddeletebucket/" class="nav-list-link">Einen Bucket erstellen und wieder löschen</a><li class="nav-list-item "> <a href="/de/optimist/storage/s3_documentation/uploadanddeleteobject/" class="nav-list-link">Ein Objekt hochladen und löschen</a><li class="nav-list-item "> <a href="/de/optimist/storage/s3_documentation/versioning/" class="nav-list-link">Versionierung aktivieren/deaktivieren und wie eine versioniertes Objekt gelöscht wird</a><li class="nav-list-item "> <a href="/de/optimist/storage/s3_documentation/swiftservestaticwebsite/" class="nav-list-link">Swift - Serving a Static Website</a><li class="nav-list-item "> <a href="/de/optimist/storage/s3_documentation/backupwithrestic/" class="nav-list-link">Sichere Datensicherung mit Restic und Rclone</a></ul><li class="nav-list-item "><a href="/de/optimist/storage/localstorage/" class="nav-list-link">Localstorage</a></ul><li class="nav-list-item"><a href="/de/optimist/faq/" class="nav-list-link">FAQ</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Spezifikationen category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/de/optimist/specs/" class="nav-list-link">Spezifikationen</a><ul class="nav-list"><li class="nav-list-item "><a href="/de/optimist/specs/flavor_specification/" class="nav-list-link">Flavor Spezifikationen</a><li class="nav-list-item "><a href="/de/optimist/specs/default_quota/" class="nav-list-link">Default Quotas</a><li class="nav-list-item "><a href="/de/optimist/specs/application_credentials/" class="nav-list-link">Application Credentials</a><li class="nav-list-item "><a href="/de/optimist/specs/volume_specification/" class="nav-list-link">Volumenspezifikationen</a><li class="nav-list-item "><a href="/de/optimist/specs/images/" class="nav-list-link">Images</a><li class="nav-list-item "><a href="/de/optimist/specs/shelving_instances/" class="nav-list-link">Shelving-Instanzen</a></ul><li class="nav-list-item"><a href="/de/optimist/changelog/" class="nav-list-link">Changelog</a></ul></nav><a href="https://gec.io/company/zertifizierungen/" target="_blank"><div style="display: flex; justify-content: space-between; padding: 16px; width: 280px"> <img id="isoimage" src="https://s3.es1.fra.optimist.gec.io/swift/v1/static/docs/iso9001.webp" alt="ISO 9001" style="flex-grow: 1; object-fit: contain; height: 1.5rem; "> <img src="https://s3.es1.fra.optimist.gec.io/swift/v1/static/docs/iso27001.webp" alt="ISO 27001" style="flex-grow: 1; object-fit: contain; height: 1.5rem; "> <img src="https://s3.es1.fra.optimist.gec.io/swift/v1/static/docs/isae-3402-t2certified-logo-cmyk1-page-001_rdax_565x282_100.webp" alt="ISAE 3402" style="flex-grow: 1; object-fit: contain; height: 1.5rem;"></div></a> <script language="javascript" type="text/javascript"> var d = new Date(); document.getElementById("isoimage").src = "https://s3.es1.fra.optimist.gec.io/swift/v1/static/docs/iso9001.webp?ver=" + d.getTime(); </script></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Documentation" aria-label="Search Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><ul class="language-list"><li class="language-list-item"> <a class="language-list-link" href=" /ece/updateilm/ " >English</a ><li class="language-list-item"> <a class="language-list-link active" href=" /de/ece/updateilm/ " >Deutsch</a ></ul></div><div id="main-content-wrap" class="main-content-wrap"><div id="main-content" class="main-content"><main><h1 class="no_toc" id="anpassen-von-lifecycle-policies"> <a href="#anpassen-von-lifecycle-policies" class="anchor-heading" aria-labelledby="anpassen-von-lifecycle-policies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Anpassen von Lifecycle Policies</h1><p>Dieses Dokument beschreibt, wie Sie die (Standard) Index Lifecycle Policies (ILM) anpassen können.</p><ul id="markdown-toc"><li><a href="#begriffsklärung" id="markdown-toc-begriffsklärung">Begriffsklärung</a><li><a href="#auffinden-der-zugeordneten-ilm-richtlinie" id="markdown-toc-auffinden-der-zugeordneten-ilm-richtlinie">Auffinden der zugeordneten ILM-Richtlinie</a><li><a href="#erstellen-einer-neuen-ilm-richtlinie" id="markdown-toc-erstellen-einer-neuen-ilm-richtlinie">Erstellen einer neuen ILM Richtlinie</a><ul><li><a href="#verwenden-der-benutzeroberfläche-ui" id="markdown-toc-verwenden-der-benutzeroberfläche-ui">Verwenden der Benutzeroberfläche (UI)</a><ul><li><a href="#hot-phase" id="markdown-toc-hot-phase">Hot Phase</a><li><a href="#warm-phase" id="markdown-toc-warm-phase">Warm Phase</a><li><a href="#cold-phase" id="markdown-toc-cold-phase">Cold Phase</a><li><a href="#frozen-phase" id="markdown-toc-frozen-phase">Frozen Phase</a><li><a href="#delete-phase" id="markdown-toc-delete-phase">Delete Phase</a></ul><li><a href="#verwenden-von-dev-tools" id="markdown-toc-verwenden-von-dev-tools">Verwenden von Dev Tools</a></ul><li><a href="#zuweisen-der-richtlinie-zu-einem-index" id="markdown-toc-zuweisen-der-richtlinie-zu-einem-index">Zuweisen der Richtlinie zu einem Index</a><li><a href="#rollover-des-data-streams" id="markdown-toc-rollover-des-data-streams">Rollover des Data Streams</a></ul><h2 id="begriffsklärung"> <a href="#begriffsklärung" class="anchor-heading" aria-labelledby="begriffsklärung"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Begriffsklärung</h2><p>Bevor wir beginnen, möchten wir einige Begriffe erklären, die in diesem Dokument verwendet werden.</p><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Begriff<th style="text-align: left">Definition<tbody><tr><td style="text-align: left">ILM<td style="text-align: left">Abkürzung für Index Lifecycle Management. Bestimmt den Lebenszyklus Ihrer Daten sowie deren Zuordnung zu den verschiedenen Phasen. Wird in Richtlinien definiert (“Index Lifecycle Policies”).<tr><td style="text-align: left">Data stream<td style="text-align: left">Der Datenstrom ist eine Sammlung einzelner Indizes. Man könnte es fast als kleines DNS (Domain Name System) für das Routing von Anfragen an Indizes betrachten. Ein Datenstrom kann mehrere Indizes enthalten.<tr><td style="text-align: left">Rollover<td style="text-align: left">Prozess der (automatischen) Erstellung eines neuen Indexes innerhalb eines Datenstroms in der Hot Phase, sodass ein einzelner Index nicht unbegrenzt wächst. Er ist in der Hot Phase der ILM-Richtlinie definiert.</table></div><h2 id="auffinden-der-zugeordneten-ilm-richtlinie"> <a href="#auffinden-der-zugeordneten-ilm-richtlinie" class="anchor-heading" aria-labelledby="auffinden-der-zugeordneten-ilm-richtlinie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Auffinden der zugeordneten ILM-Richtlinie</h2><p>Bei Verwendung des Elastic Agents und Fleet gelten Standardrichtlinien für die Datenströme. Diese Richtlinien sind einfach gehalten und beinhalten nur wenige Phasen, oft sogar nur die Hot Phase.</p><p>Die auf die Datenströme angewendete Richtlinie finden Sie in Kibana.</p><p><img src="images/updILM_currPol.png" alt="getPolicy1" /></p><ol><li>Öffnen Sie Kibana.<li>Wählen Sie im Menü <strong>Stack Management</strong> aus.<li>Öffnen Sie <strong>Index Management</strong> und gehen Sie zu <strong>Data Streams</strong>.<li>Im Popup rechts sehen Sie die zugeordnete ILM Richtlinie.</ol><p><img src="images/updILM_currPol2.png" alt="getPolicy2" /></p><h2 id="erstellen-einer-neuen-ilm-richtlinie"> <a href="#erstellen-einer-neuen-ilm-richtlinie" class="anchor-heading" aria-labelledby="erstellen-einer-neuen-ilm-richtlinie"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Erstellen einer neuen ILM Richtlinie</h2><h3 id="verwenden-der-benutzeroberfläche-ui"> <a href="#verwenden-der-benutzeroberfläche-ui" class="anchor-heading" aria-labelledby="verwenden-der-benutzeroberfläche-ui"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verwenden der Benutzeroberfläche (UI)</h3><ol><li>Um eine neue ILM-Richtlinie zu erstellen, wählen Sie <strong>Stack Management</strong>.<li>Wählen Sie <strong>Index Lifecycle Management</strong> und klicken Sie auf <strong>Create Policy</strong>.<li>Geben Sie einen neuen Namen für die Richtlinie ein.</ol><p><img src="images/updILM_creaPol1.png" alt="createPolicy" /></p><h4 id="hot-phase"> <a href="#hot-phase" class="anchor-heading" aria-labelledby="hot-phase"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hot Phase</h4><p>In der Hot Phase werden alle Daten gespeichert, die neu indiziert werden und auf die ständig zugegriffen wird. Sie ist immer die erste Phase und daher verpflichtend. In unserem Beispiel haben wir den Schalter “Use recommended default” deaktiviert, um das maximale Alter der Daten bis zum Rollover vom Standardwert von 30 Tagen auf 7 Tage zu verkürzen.</p><p><img src="images/updILM_hotphase.png" alt="HotPhase" /></p><h4 id="warm-phase"> <a href="#warm-phase" class="anchor-heading" aria-labelledby="warm-phase"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Warm Phase</h4><p>Nachdem 7 Tage lang Daten gesammelt wurden oder der Index eine Größe von 50 GB erreicht hat, sollen die Indizes unmittelbar in die zweite Phase, die sogenannte Warm Phase, übergehen. In dieser Stufe wird die Priorität der Indizes reduziert und auf “schreibgeschützt” gesetzt.</p><p><img src="images/updILM_warmphase.png" alt="WarmPhase" /></p><h4 id="cold-phase"> <a href="#cold-phase" class="anchor-heading" aria-labelledby="cold-phase"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cold Phase</h4><p>Nach 7 Tagen in der Warm Phase gehen die Daten in die nächste Phase über, die sogenannte Cold Phase. In dieser Phase können durchsuchbare Snapshots verwendet werden, um den Platzbedarf auf den Elastic Instanzen zu verringern. Die Snapshots sind im Object Storage gespeichert, der selbst schon hochverfügbar ausgelegt ist. Daher können wir die Anzahl der Replikate und die Priorität auf Null setzen.</p><p><img src="images/updILM_coldphase.png" alt="ColdPhase" /></p><h4 id="frozen-phase"> <a href="#frozen-phase" class="anchor-heading" aria-labelledby="frozen-phase"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Frozen Phase</h4><p>In dieser Phase werden die Daten von den Elastic Knoten entfernt und nur ein kleiner Cache verbleibt hier. Wenn auf die Daten zugegriffen wird, werden diese aus dem Snapshot geholt und bereitgestellt.</p><p><img src="images/updILM_frozenphase.png" alt="FrozenPhase" /></p><h4 id="delete-phase"> <a href="#delete-phase" class="anchor-heading" aria-labelledby="delete-phase"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Delete Phase</h4><p>In dieser Phase werden die Indizes entfernt, die ein bestimmtes Alter erreicht haben.</p><p><img src="images/updILM_deletephase.png" alt="DeletePhase" /></p><h3 id="verwenden-von-dev-tools"> <a href="#verwenden-von-dev-tools" class="anchor-heading" aria-labelledby="verwenden-von-dev-tools"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verwenden von Dev Tools</h3><p>Alternativ kann auch in den Dev Tools von Kibana eine neue ILM-Richtlinie erstellt werden. Die Konsole finden Sie in Kibana unter <strong>Management → Dev Tools</strong>.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PUT _ilm/policy/&lt;add-some-name-here&gt;
<span class="o">{</span>
  <span class="s2">"policy"</span>: <span class="o">{</span>
    <span class="s2">"phases"</span>: <span class="o">{</span>
      <span class="s2">"hot"</span>: <span class="o">{</span>
        <span class="s2">"min_age"</span>: <span class="s2">"0ms"</span>,
        <span class="s2">"actions"</span>: <span class="o">{</span>
          <span class="s2">"rollover"</span>: <span class="o">{</span>
            <span class="s2">"max_primary_shard_size"</span>: <span class="s2">"50gb"</span>,
            <span class="s2">"max_age"</span>: <span class="s2">"7d"</span>
          <span class="o">}</span>,
          <span class="s2">"set_priority"</span>: <span class="o">{</span>
            <span class="s2">"priority"</span>: 100
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"warm"</span>: <span class="o">{</span>
        <span class="s2">"min_age"</span>: <span class="s2">"0d"</span>,
        <span class="s2">"actions"</span>: <span class="o">{</span>
          <span class="s2">"set_priority"</span>: <span class="o">{</span>
            <span class="s2">"priority"</span>: 50
          <span class="o">}</span>,
          <span class="s2">"readonly"</span>: <span class="o">{}</span>
        <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"cold"</span>: <span class="o">{</span>
        <span class="s2">"min_age"</span>: <span class="s2">"7d"</span>,
        <span class="s2">"actions"</span>: <span class="o">{</span>
          <span class="s2">"readonly"</span>: <span class="o">{}</span>,
          <span class="s2">"searchable_snapshot"</span>: <span class="o">{</span>
            <span class="s2">"snapshot_repository"</span>: <span class="s2">"found-snapshots"</span>,
            <span class="s2">"force_merge_index"</span>: <span class="nb">true</span>
          <span class="o">}</span>,
          <span class="s2">"set_priority"</span>: <span class="o">{</span>
            <span class="s2">"priority"</span>: 0
          <span class="o">}</span>,
          <span class="s2">"allocate"</span>: <span class="o">{</span>
            <span class="s2">"number_of_replicas"</span>: 0
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"frozen"</span>: <span class="o">{</span>
        <span class="s2">"min_age"</span>: <span class="s2">"14d"</span>,
        <span class="s2">"actions"</span>: <span class="o">{</span>
          <span class="s2">"searchable_snapshot"</span>: <span class="o">{</span>
            <span class="s2">"snapshot_repository"</span>: <span class="s2">"found-snapshots"</span>,
            <span class="s2">"force_merge_index"</span>: <span class="nb">true</span>
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"delete"</span>: <span class="o">{</span>
        <span class="s2">"min_age"</span>: <span class="s2">"70d"</span>,
        <span class="s2">"actions"</span>: <span class="o">{</span>
          <span class="s2">"delete"</span>: <span class="o">{</span>
            <span class="s2">"delete_searchable_snapshot"</span>: <span class="nb">true</span>
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><h2 id="zuweisen-der-richtlinie-zu-einem-index"> <a href="#zuweisen-der-richtlinie-zu-einem-index" class="anchor-heading" aria-labelledby="zuweisen-der-richtlinie-zu-einem-index"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Zuweisen der Richtlinie zu einem Index</h2><p>Die neu erstellte Richtlinie kann dann über das Menü <strong>Index Lifecycle Policies</strong> z.B. einem Index Template zugewiesen werden.</p><p><img src="images/updILM_assignpol1.png" alt="assignPolicy1" /></p><p><img src="images/updILM_assignpol2.png" alt="assignPolicy2" /></p><h2 id="rollover-des-data-streams"> <a href="#rollover-des-data-streams" class="anchor-heading" aria-labelledby="rollover-des-data-streams"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rollover des Data Streams</h2><p>Damit die neue ILM-Richtlinie sofort benutzt wird, muss ein Rollover für den Datenstrom angestoßen werden. Dies kann auch in den Dev Tools von Kibana erfolgen, hier am Beispiel für den Datenstrom auditbeat-8.5.0:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST auditbeat-8.5.0/_rollover
</code></pre></div></div></main><hr><footer> <br/><br/><br/><div class="footer-navigation-links"> <a class="footer-navigation-link footer-navigation-link--previous" href="/de/ece/shipdata/"> <svg class="footer-navigation-link__icon" viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> <span class="footer-navigation-link__sublabel">Zurück</span> <span class="footer-navigation-link__label">Laden von Daten in Elastic</span> </a></div><div class="footer-links"><div class=footer-hosted-with-love> <a href="https://github.com/gecio/gecio.github.io" target="_blank" rel="noopener noreferrer" >Mit liebe gehostet bei GitHub</a></div><div class="footer-external-links"><ul><li class="footer-external-link"> <a href="https://gec.io" target="_blank" rel="noopener noreferrer" >Website</a ><li class="footer-external-link"> <a href="https://gec.io/impressum/" target="_blank" rel="noopener noreferrer" >Impressum</a ><li class="footer-external-link"> <a href="https://gec.io/datenschutz/" target="_blank" rel="noopener noreferrer" >Datenschutz</a ></ul></div></div></footer></div></div><div class="search-overlay"></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script>
